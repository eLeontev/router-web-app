(this["webpackJsonprouter-web-app"]=this["webpackJsonprouter-web-app"]||[]).push([[3],{136:function(e,t,a){"use strict";a.r(t),a.d(t,"DashboardPage",(function(){return Fe}));var n,c,r,o=a(1),i=a.n(o),s=a(11),l=a(0),u=(a(201),a(7)),m=a(51),f=function(e){var t=e.type;return i.a.createElement("section",{className:"unknown-card"},i.a.createElement(m.a,{message:"card with type: ".concat(t," is not found"),type:"error",onClose:function(){},shouldHideCloseButton:!0}))},d=a(9),b=a(3),p=a(6),v=a(8),E=a(154),j=a.n(E),O=a(22),N=function(e){var t=e.startedTime,a=e.daysLabel,n=j()(j()().diff(t));return"".concat(n.format("D")," ").concat(a," ").concat(n.format("H:mm:ss"))},h=(n={},Object(l.a)(n,O.a.ramUsage,(function(e){var t=e.value,a=e.units,n=parseFloat(t.split("/")[1]),c=Math.random(),r=Math.round(c*n);return"".concat(Math.floor(100*c),"% (").concat(r,"/").concat(n," ").concat(a,")")})),Object(l.a)(n,O.a.cpuUsage,(function(){return"".concat(Math.floor(100*Math.random()),"%")})),Object(l.a)(n,O.a.uptime,N),Object(l.a)(n,O.a.currentTime,(function(){return j()().format("M/DD/YYYY H:mm:ss")})),Object(l.a)(n,O.a.inactive,(function(){return""})),n),g=i.a.memo((function(e){var t=e.label,a=e.value,n=Object(d.c)([t,a]),c=Object(p.a)(n,2),r=c[0],o=c[1];return i.a.createElement("section",{className:"param-pair"},i.a.createElement("p",{className:"param-pair__label"},r),i.a.createElement("p",{className:"param-pair__value"},o||a))})),y=function(e){return e.map((function(e){return i.a.createElement(g,Object.assign({key:e.label},e))}))},_=function(e){var t=e.systemParams,a=e.startedTime,n=Object(o.useState)(t),c=Object(p.a)(n,2),r=c[0],s=c[1],l=Object(d.c)([b.a.daysLabel,b.a.mbitLabel]),m=Object(p.a)(l,2),f=m[0],E=m[1];return Object(o.useEffect)((function(){var e=setInterval((function(){!function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";t(e.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{value:h[e.paramType]({value:e.value,startedTime:a,daysLabel:n,units:c})})})))}(r,s,a,f,E)}),u.l);return function(){return clearInterval(e)}}),[s,r,a,f,E]),i.a.createElement(i.a.Fragment,null,y(r))},k=a(19),L=function(e){return e?"connections-count__home":"connections-count__guest"},w=i.a.memo((function(e){var t=e.onlineDevice,a=t.countOfConnections,n=t.type,c=t.isHome,r=n===u.c.wifi?b.a.wifiConnectionTypeMessageLabel:b.a.wiredConnectionTypeMessageLabel,o=Object(d.b)(r);return i.a.createElement("section",{className:"online-device"},i.a.createElement(k.b,{to:"/controlPanel/devicesList",className:"connections-count ".concat(L(c))},a,a?i.a.createElement("span",{className:"connections-count__hint"},a):null),i.a.createElement("p",{className:"device-type"},o))})),C=a(14),T=(a(203),function(e){return e?"checkbox__active":"checkbox__inactive"}),x=function(e){return e?"checkbox--bar__active":"checkbox--bar__inactive"},S=function(e){return e?"checkbox__disabled":"checkbox__enabled"},I=i.a.memo((function(e){var t=e.isActive,a=e.triggerCheckbox,n=e.isDisable;return i.a.createElement("section",{className:"checkbox ".concat(T(t)," ").concat(S(n))},i.a.createElement("span",{onClick:function(){return!n&&a(!t)},className:"checkbox--bar ".concat(x(t))}))})),P=a(13),M=a.n(P),D=a(20),A=a(29),H=a(33),R=a(4),V=[R.a.addLogoType,R.a.printType],U=function(e,t){var a=e.actionType,n=e.isActive;return{actionType:a,isActive:!!t&&n}},W=function(e,t,a,n){var c=Object(o.useContext)(H.a).setModal;return Object(o.useCallback)((function(){return c(function(e,t,a,n){return Object(v.a)(Object(v.a)({},e),{},{name:t,range:a,actions:{WPS:U(e.actions.WPS,n),main:e.actions.main.map((function(e){return V.includes(e.actionType)?e:U(e,n)}))}})}(e,t,a,n))}),[n,e,t,a,c])},Y=function(e){var t=e.connection,a=t.channel,n=t.connectionInfo,c=t.isActive,r=t.name,s=t.range,l=function(e,t){var a=Object(o.useContext)(A.a).setLoader,n=Object(o.useState)(t),c=Object(p.a)(n,2),r=c[0],i=c[1],s=Object(o.useState)(!1),l=Object(p.a)(s,2),u=l[0],m=l[1];return{triggerCheckbox:Object(o.useCallback)(function(){var t=Object(D.a)(M.a.mark((function t(n){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(n),m(!0),a(!0),t.prev=3,t.next=6,new Promise((function(t){return setTimeout((function(){return t(e)}),2e3)}));case 6:i(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),i(!n);case 12:return t.prev=12,m(!1),a(!1),t.finish(12);case 16:case"end":return t.stop()}}),t,null,[[3,9,12,16]])})));return function(e){return t.apply(this,arguments)}}(),[e,a,m]),connectionStatus:r,isWaiting:u}}(t.connectionId,c),u=l.triggerCheckbox,m=l.isWaiting,f=l.connectionStatus,v=W(n,r,s,f),E=Object(d.c)([b.a.channelLabel,b.a.showConnectionInfoButtonLabel]),j=Object(p.a)(E,2),O=j[0],N=j[1];return i.a.createElement("section",{className:"connection"},i.a.createElement("section",{className:"connection-main"},i.a.createElement("section",{className:"connection-main__status"},i.a.createElement(I,{isDisable:m,isActive:f,triggerCheckbox:function(){return u(!f)}})),i.a.createElement("section",{className:"details"},i.a.createElement("p",{className:"details__name"},r),i.a.createElement("section",{className:"details--minor"},i.a.createElement("p",{className:"details--minor__range"},s,","),i.a.createElement("p",{className:"details--minor__channel"},O," ",a)))),i.a.createElement("section",{className:"connection-info"},i.a.createElement(C.a,{className:"show-more-button",buttonName:N,buttonHandler:v})))},B=function(e){var t=e.isActive,a=e.isNetwork,n=e.portSpeed,c=e.portType,r=e.portUnit,o=e.index;return i.a.createElement("section",{className:"port ".concat(a?"port_network":"")},i.a.createElement("p",{className:"port_icon"},o,a?i.a.createElement("span",{className:"port_icon__network"}):null),i.a.createElement("section",{className:"port-info"},i.a.createElement("p",{className:"port-info_type"},t?c:"-"),t?i.a.createElement("p",{className:"port-info_speed"},"".concat(n," ").concat(r)):null))},F=a(10),J=(a(204),a(30)),z=Object(J.a)({download:{value:0,unit:b.a.kbitsLabel},upload:{value:0,unit:b.a.kbitsLabel},received:{value:0,unit:b.a.mbitLabel},sent:{value:0,unit:b.a.mbitLabel}}),G=Object(J.b)((function(e){var t=e.get;return{upload:t(z).upload,download:t(z).download}})),q=i.a.memo((function(e){var t=e.startedTime,a=e.value;Object(F.useRecoilValue)(z);var n=Object(d.c)([b.a.connectedLabel,b.a.daysLabel]),c=Object(p.a)(n,2),r=c[0],o=c[1];return i.a.createElement("section",{className:"provider-connection-duration"},"".concat(r,": ").concat(N({startedTime:t,value:a,daysLabel:o})))})),K=function(e){var t=e.providerLabel,a=e.providerType,n=e.connectionDuration,c=Object(d.c)([b.a.providerHeaderLabel,t]),r=Object(p.a)(c,2),o=r[0],s=r[1];return i.a.createElement("section",{className:"provider"},i.a.createElement("h3",{className:"provider-label"},o),i.a.createElement("section",{className:"provider-info"},i.a.createElement("span",{className:"provider-info_label"},s)," / ",i.a.createElement("span",{className:"provider-info_type"},a)),i.a.createElement(q,{value:"",startedTime:n}))},Q=(a(205),a(206),a(207)),X=a(214),Z=a(213),$=function(e){return e?"upload":"download"},ee=function(e){return[b.a.kbitsLabel,b.a.mbitsLabel].indexOf(e)?u.i:u.a},te=function(e){return e()},ae=function(e,t,a,n){return(n?setTimeout:te)((function(){!function(e,t,a){var n=Z.e(".".concat(e,"__").concat(t));n.selectAll("*").remove();var c=n.node().getBoundingClientRect(),r=c.width-0-0,o=c.height-0-10,i=Z.d().domain([0,a.length-1]).range([0,r]),s=Z.d().domain([0,1]).range([0,o]),l=Z.c().x((function(e,t){return i(t)})).y((function(e){return o-s(e.y)})).curve(Z.b),u=n.append("svg").attr("width",r+0+0).attr("height",o+0+10);u.append("g").attr("transform","translate(".concat(0,", ").concat(0,")")).append("path").datum(a).attr("class","line__".concat(t)).attr("d",l);var m=Z.a(Z.d().range([o,0])).ticks(6).tickSize(r);u.append("g").attr("class","h-oriented-borders").call(m).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.select(".tick").remove()}))}("traffic-graph",$(a),function(e,t){var a=t.value*u.i,n=e.length,c=u.d-n>0?u.d-n:0,r=new Array(c).fill("").map((function(){return{y:0}})),o=e.map((function(e){var t=e.value,n=e.unit;return{y:t*ee(n)/a}}));return[{y:0}].concat(Object(X.a)(r),Object(X.a)(o),[{y:0}])}(e.current,t.current))}),300)},ne=a(21),ce=function(e){var t=e.isUpload,a=e.current,n=e.max,c=Object(o.useRef)(n),r=Object(o.useRef)([]);Object(o.useEffect)((function(){r.current=function(e,t){var a=[].concat(Object(X.a)(e),[t]);if(a.length>u.d){var n=a;a=Object(Q.a)(n).slice(1)}return a}(r.current,a),ae(r,c,t,!1)}),[a,t]);var s=Object(F.useRecoilValue)(ne.c);return Object(o.useEffect)((function(){var e=ae(r,c,t,!0);return function(){return clearTimeout(e)}}),[s,t]),i.a.createElement("section",{className:"traffic-graph traffic-graph__".concat($(t))})},re=(a(208),i.a.memo((function(){return Object(F.useRecoilValue)(G),i.a.createElement("section",{className:"timing"},i.a.createElement("span",{className:"timing_start"},j()(j()().diff(1e3*u.d)).format(u.j)),i.a.createElement("span",{className:"timing_current"},j()().format(u.j)))}))),oe=function(e){var t=e.unit,a=e.value;return"".concat(a," ").concat(t)},ie=function(e){return"traffic__".concat(e)},se=i.a.memo((function(e){var t=e.type,a=e.max,n=Object(F.useRecoilValue)(G),c=n.upload,r=n.download,o=t===u.k.upload?c:r,s=Object(d.c)([t===u.k.upload?b.a.upload:b.a.download,o.unit]),l=Object(p.a)(s,2),m=l[0],f=l[1];return i.a.createElement("section",{className:"traffic ".concat(ie(t))},i.a.createElement("section",{className:"traffic-info"},i.a.createElement("section",{className:"traffic-info_actual"},i.a.createElement("span",{className:"traffic-info_actual-type"},m,": "),i.a.createElement("span",{className:"traffic-info_actual-value"},oe({unit:f,value:o.value}))),i.a.createElement("section",{className:"traffic-info_max-speed"},oe({unit:f,value:a.value}))),i.a.createElement(ce,{max:a,current:o,isUpload:t===u.k.upload}),i.a.createElement(re,null))})),le=(a(209),u.f.configuration),ue=u.f.reboot,me=b.a.connectionEstablishedLabel,fe=b.a.adGuardIsEnabledLabel,de=b.a.rebootLabel,be=b.a.configureLabel,pe={configuration:function(){return console.log(123)},reboot:function(){return console.log(321)}},ve=a(23),Ee=function(e){var t=e.label,a=e.value,n=Object(d.c)([t,a]),c=Object(p.a)(n,2),r=c[0],o=c[1];return i.a.createElement("section",{className:"detail-pair"},i.a.createElement("section",{className:"detail-pair-label"},r),i.a.createElement("section",{className:"detail-pair-value"},o||a))},je=function(e){var t=e.detail,a=e.trafficValue,n=Object(d.b)(a.unit);return i.a.createElement(Ee,Object.assign({},t,{value:"".concat(a.value," ").concat(n)}))},Oe=function(e){var t=Object(F.useRecoilValue)(z),a=function(e,t){var a;return(a={},Object(l.a)(a,u.f.upload,t.upload),Object(l.a)(a,u.f.download,t.download),Object(l.a)(a,u.f.sent,t.sent),Object(l.a)(a,u.f.received,t.received),a)[e]}(e.type,t);return i.a.createElement(je,{detail:e,trafficValue:a})},Ne=function(e){var t=function(e){var t=e===le;return{isConfigurationType:t,valueLabel:t?fe:me,buttonLabel:t?be:de,buttonHandler:t?pe.configuration:e===ue?pe.reboot:function(){}}}(e.type),a=t.valueLabel,n=t.buttonLabel,c=t.buttonHandler,r=t.isConfigurationType,o=Object(d.c)([e.label,a,n]),s=Object(p.a)(o,3),l=s[0],u=s[1],m=s[2];return i.a.createElement("section",{className:"detail-pair"},i.a.createElement("section",{className:"detail-pair-label"},l),i.a.createElement("section",{className:"detail-pair-value"},i.a.createElement("span",{className:"detail-pair-value-message"},u||e.value," "),r?i.a.createElement(k.b,{className:"detail-pair-value-link",to:ve.a.internetSafety},m):i.a.createElement(C.a,{buttonName:m,className:"detail-pair-value-button",buttonHandler:c})))},he=u.f.download,ge=u.f.upload,ye=u.f.received,_e=u.f.sent,ke=u.f.reboot,Le=u.f.configuration,we=(c={},Object(l.a)(c,Le,Ne),Object(l.a)(c,ke,Ne),Object(l.a)(c,_e,Oe),Object(l.a)(c,ye,Oe),Object(l.a)(c,he,Oe),Object(l.a)(c,ge,Oe),Object(l.a)(c,u.f.default,Ee),c),Ce=function(e){return e.map((function(e,t){return function(e,t){var a=we[e.type];return i.a.createElement(a,Object.assign({key:t},e))}(e,t)}))},Te=function(e){var t=e.details,a=Object(o.useState)(!0),n=Object(p.a)(a,2),c=n[0],r=n[1],s=Object(d.c)([b.a.moreDetailsLabel,b.a.hiddenDetailsLabel]),l=Object(p.a)(s,2),u=l[0],m=l[1];return i.a.createElement("section",{className:"details"},i.a.createElement(C.a,{className:"details-button",buttonHandler:function(){return r(!c)},buttonName:c?u:m}),c?null:i.a.createElement("section",{className:"details-info"},Ce(t)))},xe=[b.a.mbitLabel,b.a.mbitLabel],Se=function(e){return{unit:(e||[b.a.mbitsLabel,b.a.mbitsLabel])[Math.round(Math.random())],value:Math.round(500*Math.random())/10}},Ie=function(e,t){var a=(e.find((function(e){return e.type===t}))||{value:""}).value;return{value:Number(a),unit:b.a.mbitLabel}},Pe=function(e,t){Object(o.useEffect)((function(){var a=setInterval((function(){var a={sent:Se(xe),received:Se(xe)};t.current=a,e(Object(v.a)(Object(v.a)({},a),{},{upload:Se(),download:Se()}))}),u.g);return function(){return clearInterval(a)}}),[e,t])},Me=i.a.memo((function(e){var t=e.details,a=e.trafficInfo,n=Object(F.useRecoilState)(z),c=Object(p.a)(n,2),r=c[0],i=r.received,s=r.sent,l=c[1],m=Object(o.useRef)({received:i,sent:s});return function(e,t,a){Object(o.useEffect)((function(){e(Object(v.a)(Object(v.a)({},{upload:t.upload.current,download:t.download.current}),{},{received:Ie(a,u.f.received),sent:Ie(a,u.f.sent)}))}),[t,a,e])}(l,a,t),Pe(l,m),null})),De=function(e){var t=e.main,a=e.details,n=t.trafficInfo,c=t.startedTime,r=t.provider,o=n.upload,s=n.download;return i.a.createElement("section",{className:"card-content"},i.a.createElement(K,Object.assign({},r,{connectionDuration:c})),i.a.createElement("section",{className:"traffics"},i.a.createElement(se,s),i.a.createElement(se,o)),i.a.createElement(Te,{details:a}))},Ae=(r={},Object(l.a)(r,u.b.applicationType,(function(e){var t=e.applications,a=Object(d.b)(b.a.hasNoApplicationsMessageLabel);return i.a.createElement("section",{className:"card-content"},t.length?"Applications":a)})),Object(l.a)(r,u.b.systemType,(function(e){var t=e,a=t.systemParams,n=t.startedTime,c=Object(o.useMemo)((function(){return function(e){return e.reduce((function(e,t){return e[t.isActive?"dynamicSystemParams":"staticSystemParams"].push(t),e}),{staticSystemParams:[],dynamicSystemParams:[]})}(a)}),[a]),r=c.staticSystemParams,s=c.dynamicSystemParams;return i.a.createElement("section",{className:"card-content"},y(r),i.a.createElement(_,{systemParams:s,startedTime:n}))})),Object(l.a)(r,u.b.wifiType,(function(e){var t=e,a=t.connections,n=t.onlineDevices,c=Object(d.b)(b.a.onlineDeviceTitleLabel);return i.a.createElement("section",{className:"card-content"},i.a.createElement("section",{className:"connections"},a.map((function(e){return i.a.createElement(Y,{key:e.connectionId,connection:e})}))),n.length?i.a.createElement("section",{className:"devices"},i.a.createElement("h3",{className:"devices--title"},c),i.a.createElement("section",{className:"devices-content"},n.map((function(e){return i.a.createElement(w,{key:e.key,onlineDevice:e})})))):null)})),Object(l.a)(r,u.b.portType,(function(e){var t=e,a=t.ports,n=t.networkPortId;return i.a.createElement("section",{className:"card-content card-content_port"},a.map((function(e,t){return i.a.createElement(B,Object.assign({key:e.portId},e,{index:t,isNetwork:e.portId===n}))})))})),Object(l.a)(r,u.b.internetType,(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Me,{details:e.details,trafficInfo:e.main.trafficInfo}),i.a.createElement(De,e))})),r),He=i.a.memo((function(e){var t=e.card,a=Ae[t.type],n=Object(d.b)(t.title);return i.a.createElement("section",{className:"card"},i.a.createElement("section",{className:"application-card"},i.a.createElement("h3",{className:"card__title"},n),a?i.a.createElement(a,t.cardContent):i.a.createElement(f,{type:t.type})))})),Re=function(e){var t=e.leftCards,a=e.rightCards;return i.a.createElement("section",{className:"cards"},i.a.createElement("section",{className:"cards-left"},t.map((function(e){return i.a.createElement(He,{key:e.cardId,card:e})}))),i.a.createElement("section",{className:"cards-right"},a.map((function(e){return i.a.createElement(He,{key:e.cardId,card:e})}))))},Ve=a(210),Ue=a(211),We=a(17),Ye=a(52),Be=new(function(){function e(){Object(Ve.a)(this,e)}return Object(Ue.a)(e,[{key:"useLoadCards",value:function(e){var t=this,a=Object(o.useContext)(A.a),n=a.isLoading,c=a.setLoader,r=Object(o.useState)(u.e),i=Object(p.a)(r,2),s=i[0],l=s.leftCards,m=s.rightCards,f=i[1];return Object(o.useEffect)((function(){var a=e.location.state;if(a)return e.replace(We.b,void 0),f(a);c(!0),t.fetchCards(f).finally((function(){return c(!1)}))}),[e,c]),{isLoading:n,leftCards:l,rightCards:m}}},{key:"fetchCards",value:function(){var e=Object(D.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){t(Ye.a),e()}),1e3)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Fe=function(){var e=Object(s.f)(),t=Be.useLoadCards(e),a=t.leftCards,n=t.rightCards;return i.a.createElement(Re,{leftCards:a,rightCards:n})};t.default=Fe},201:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){}}]);
//# sourceMappingURL=3.7d36e447.chunk.js.map